<HTML><HEAD><TITLE>Manpage of PCAP_GET_REQUIRED_SELECT_TIMEOUT</TITLE>
<LINK REL="stylesheet" type="text/css" href="../style_manpages.css">
</HEAD><BODY>
<H1>Manpage of PCAP_GET_REQUIRED_SELECT_TIMEOUT</H1>
Section: Misc. Reference Manual Pages (3PCAP)<BR>Updated: 25 July 2018<BR>
<A HREF="/manpages">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

pcap_get_required_select_timeout - get a file descriptor on which a
select() can be done for a live capture
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<PRE>
<B>#include &lt;pcap/pcap.h&gt;
</B>
<B>struct timeval *pcap_get_required_select_timeout(pcap_t *p);
</B></PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>pcap_get_required_select_timeout()</B>

returns, on UNIX, a pointer to a
<B>struct timeval</B>

containing a value that must be used as the minimum timeout in
<B>select</B>(2),

<B>poll</B>(2),

<B>epoll_wait</B>(2),

and
<B><A HREF="/cgi-bin/man/man2html?2+kevent">kevent</A></B>(2)

calls if
<A HREF='/manpages/pcap_get_selectable_fd.3pcap.html'><B>pcap_get_selectable_fd</B></A>(3PCAP)

returns
<B>PCAP_ERROR</B>.

<P>

The timeout that should be used in those calls must be no larger than
the smallest of all timeouts returned by
<B>pcap_get_required_select_timeout()</B>

for devices from which packets will be captured.
<P>

The device for which
<B>pcap_get_selectable_fd()</B>

returned
<B>PCAP_ERROR</B>

must be put in non-blocking mode with
<A HREF='/manpages/pcap_setnonblock.3pcap.html'><B>pcap_setnonblock</B></A>(3PCAP),

and an attempt must always be made to read packets from the device
when the
<B>select()</B>,

<B>poll()</B>,

<B>epoll_wait()</B>,

or
<B>kevent()</B>

call returns.
<P>

Note that a device on which a read can be done without blocking may,
on some platforms, not have any packets to read if the packet buffer
timeout has expired.  A call to
<A HREF='/manpages/pcap_loop.3pcap.html'><B>pcap_dispatch</B></A>(3PCAP)

or
<A HREF='/manpages/pcap_next_ex.3pcap.html'><B>pcap_next_ex</B></A>(3PCAP)

will return 0 in this case, but will not block.
<P>

<B>pcap_get_required_select_timeout()</B>

is not available on Windows.
<A NAME="lbAE">&nbsp;</A>
<H2>RETURN VALUE</H2>

A pointer to a
<B>struct timeval</B>

is returned if the timeout is required; otherwise
<B>NULL</B>

is returned.
<A NAME="lbAF">&nbsp;</A>
<H2>BACKWARD COMPATIBILITY</H2>

This function became available in libpcap release 1.9.0.  In previous
releases,
<B>select()</B>,

<B>poll()</B>,

<B>epoll_wait()</B>,

and
<B>kevent()</B>

cannot be used on any capture source for which
<B>pcap_get_selectable_fd</B>

returns -1.
<A NAME="lbAG">&nbsp;</A>
<H2>SEE ALSO</H2>

<A HREF='/manpages/pcap.3pcap.html'><B>pcap</B></A>(3PCAP),

<A HREF='/manpages/pcap_get_selectable_fd.3pcap.html'><B>pcap_get_selectable_fd</B></A>(3PCAP),

<B>select</B>(2),

<B>poll</B>(2),

<B>epoll_wait</B>(2),

<B>kqueue</B>(2)

<P>

<HR>
This document was created by
man2html,
using the manual pages from "The Tcpdump Group" git repositories.<BR>
Time: 18:51:54 GMT, June 01, 2019
</BODY>
</HTML>
